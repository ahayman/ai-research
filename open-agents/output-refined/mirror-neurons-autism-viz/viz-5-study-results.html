<!-- Visualization: Study Results by Stimulus Type -->
<!-- Generated: 2025-12-20 -->
<!-- Type: comparison-chart -->
<!-- Source: Hamilton 2013; Yates & Hobson 2020 -->

<figure class="data-viz" id="viz-study-results">
  <div class="viz-container" style="position: relative; width: 100%; max-width: 800px; margin: 0 auto; padding: 20px;">
    <h3 style="text-align: center; color: #1e293b; margin-bottom: 10px; font-family: system-ui, -apple-system, sans-serif;">Research Findings: The Critical Role of Stimulus Type</h3>
    <p style="text-align: center; color: #64748b; margin-bottom: 25px; font-size: 0.9rem;">Whether studies find differences depends heavily on what stimuli are used</p>

    <div style="display: flex; flex-wrap: wrap; gap: 30px; justify-content: center; margin-bottom: 30px;">

      <!-- Non-emotional stimuli -->
      <div style="flex: 1; min-width: 280px; max-width: 350px;">
        <h4 style="text-align: center; color: #3b82f6; margin-bottom: 15px;">Non-Emotional Stimuli</h4>
        <p style="text-align: center; color: #64748b; font-size: 0.85rem; margin-bottom: 15px;">(Hand actions, object manipulation)</p>
        <canvas id="chart-non-emotional" height="200"></canvas>
        <div style="text-align: center; margin-top: 15px; padding: 12px; background: #dbeafe; border-radius: 8px;">
          <span style="color: #1e40af; font-weight: bold; font-size: 1.1rem;">~73% No Difference</span>
          <p style="color: #3b82f6; font-size: 0.85rem; margin: 5px 0 0;">Mirror neurons function similarly</p>
        </div>
      </div>

      <!-- Emotional stimuli -->
      <div style="flex: 1; min-width: 280px; max-width: 350px;">
        <h4 style="text-align: center; color: #f59e0b; margin-bottom: 15px;">Emotional Stimuli</h4>
        <p style="text-align: center; color: #64748b; font-size: 0.85rem; margin-bottom: 15px;">(Facial expressions, social scenarios)</p>
        <canvas id="chart-emotional" height="200"></canvas>
        <div style="text-align: center; margin-top: 15px; padding: 12px; background: #fef3c7; border-radius: 8px;">
          <span style="color: #b45309; font-weight: bold; font-size: 1.1rem;">~64% Show Differences</span>
          <p style="color: #d97706; font-size: 0.85rem; margin: 5px 0 0;">Differences emerge with social content</p>
        </div>
      </div>
    </div>

    <!-- Insight box -->
    <div style="background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); border-radius: 12px; padding: 20px; border-left: 4px solid #10b981;">
      <h4 style="color: #047857; margin: 0 0 10px; font-size: 1rem;">What This Pattern Reveals</h4>
      <p style="color: #065f46; font-size: 0.9rem; margin: 0; line-height: 1.6;">
        The critical finding: <strong>when studies use simple, non-emotional stimuli, autistic and neurotypical participants show similar mirror neuron responses</strong>. Differences only emerge consistently when emotional or social content is involved. This suggests the basic mirror neuron system is intact, but processing of social-emotional information differs - supporting the STORM model over the "broken mirror" hypothesis.
      </p>
    </div>

    <!-- Key studies table -->
    <div style="margin-top: 25px; overflow-x: auto;">
      <h4 style="color: #334155; margin-bottom: 15px;">Key Studies Showing No Difference (Non-Emotional Stimuli)</h4>
      <table style="width: 100%; border-collapse: collapse; font-size: 0.85rem;">
        <thead>
          <tr style="background: #f1f5f9;">
            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #cbd5e1;">Study</th>
            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #cbd5e1;">Participants</th>
            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #cbd5e1;">Finding</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Dinstein et al. (2010)</td>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">ASC + Controls</td>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; color: #10b981;">Identical activation in MNS regions</td>
          </tr>
          <tr style="background: #fafafa;">
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Bernier et al. (2013)</td>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">19 ASC, 19 NT children</td>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; color: #10b981;">Comparable mu suppression</td>
          </tr>
          <tr>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Enticott et al. (2013)</td>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">32 ASC, 32 NT adults</td>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; color: #10b981;">No difference in motor evoked potentials</td>
          </tr>
          <tr style="background: #fafafa;">
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Ruysschaert et al. (2014)</td>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Young children (2-5 yrs)</td>
            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; color: #10b981;">No group differences in mu suppression</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <figcaption style="text-align: center; margin-top: 1.5rem; font-size: 0.9rem; color: #666; font-family: system-ui, -apple-system, sans-serif;">
    <strong>Figure 5:</strong> Study results vary dramatically based on stimulus type - a key insight challenging the broken mirror hypothesis
    <span style="display: block; font-size: 0.8rem; color: #999; margin-top: 0.5rem;">Source: Hamilton 2013 systematic review; Yates & Hobson 2020</span>
  </figcaption>
</figure>

<style>
.data-viz {
  margin: 2rem 0;
  padding: 1.5rem;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border-radius: 16px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  font-family: system-ui, -apple-system, sans-serif;
}
</style>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
(function() {
  // Non-emotional stimuli chart
  const ctx1 = document.getElementById('chart-non-emotional').getContext('2d');
  new Chart(ctx1, {
    type: 'doughnut',
    data: {
      labels: ['No Difference Found', 'Some Differences Found'],
      datasets: [{
        data: [8, 3],
        backgroundColor: [
          'rgba(59, 130, 246, 0.8)',
          'rgba(203, 213, 225, 0.8)'
        ],
        borderColor: [
          'rgba(37, 99, 235, 1)',
          'rgba(148, 163, 184, 1)'
        ],
        borderWidth: 2
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: true,
      cutout: '60%',
      plugins: {
        legend: {
          position: 'bottom',
          labels: {
            font: { size: 11 },
            padding: 15,
            usePointStyle: true
          }
        },
        tooltip: {
          callbacks: {
            label: function(context) {
              const total = context.dataset.data.reduce((a, b) => a + b, 0);
              const percentage = Math.round((context.raw / total) * 100);
              return `${context.label}: ${context.raw} studies (${percentage}%)`;
            }
          }
        }
      },
      animation: {
        animateRotate: true,
        duration: 1500
      }
    }
  });

  // Emotional stimuli chart
  const ctx2 = document.getElementById('chart-emotional').getContext('2d');
  new Chart(ctx2, {
    type: 'doughnut',
    data: {
      labels: ['Differences Found', 'No Difference Found'],
      datasets: [{
        data: [7, 4],
        backgroundColor: [
          'rgba(245, 158, 11, 0.8)',
          'rgba(203, 213, 225, 0.8)'
        ],
        borderColor: [
          'rgba(217, 119, 6, 1)',
          'rgba(148, 163, 184, 1)'
        ],
        borderWidth: 2
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: true,
      cutout: '60%',
      plugins: {
        legend: {
          position: 'bottom',
          labels: {
            font: { size: 11 },
            padding: 15,
            usePointStyle: true
          }
        },
        tooltip: {
          callbacks: {
            label: function(context) {
              const total = context.dataset.data.reduce((a, b) => a + b, 0);
              const percentage = Math.round((context.raw / total) * 100);
              return `${context.label}: ${context.raw} studies (${percentage}%)`;
            }
          }
        }
      },
      animation: {
        animateRotate: true,
        duration: 1500
      }
    }
  });
})();
</script>
