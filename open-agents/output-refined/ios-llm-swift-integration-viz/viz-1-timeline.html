<!-- Visualization: Evolution of On-Device LLM Capabilities on iOS -->
<!-- Generated: 2025-12-22 -->
<!-- Type: timeline-chart -->
<!-- Source: MLX GitHub, Apple WWDC 2025 -->

<figure class="data-viz" id="viz-1">
  <div class="viz-container" style="position: relative; width: 100%; max-width: 900px; margin: 0 auto;">
    <canvas id="chart-timeline"></canvas>
  </div>
  <figcaption>
    <strong>Figure 1:</strong> Evolution of On-Device LLM Capabilities on iOS (2022-2025)
    <span class="viz-source">Source: MLX GitHub Repository, Apple WWDC 2025</span>
  </figcaption>
</figure>

<style>
.data-viz {
  margin: 2rem 0;
  padding: 1.5rem;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.data-viz figcaption {
  text-align: center;
  margin-top: 1rem;
  font-size: 0.95rem;
  color: #475569;
}
.viz-source {
  display: block;
  font-size: 0.8rem;
  color: #94a3b8;
  margin-top: 0.5rem;
}
.viz-container {
  padding: 1rem;
}
</style>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.1.0/dist/chartjs-plugin-annotation.min.js"></script>
<script>
(function() {
  const ctx = document.getElementById('chart-timeline').getContext('2d');

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['2022', '2023', '2024', '2025'],
      datasets: [{
        label: 'On-Device LLM Capability Score',
        data: [5, 25, 60, 95],
        backgroundColor: 'rgba(59, 130, 246, 0.1)',
        borderColor: '#3B82F6',
        borderWidth: 3,
        fill: true,
        tension: 0.4,
        pointBackgroundColor: '#3B82F6',
        pointBorderColor: '#fff',
        pointBorderWidth: 2,
        pointRadius: 8,
        pointHoverRadius: 10
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: true,
      aspectRatio: 2,
      plugins: {
        title: {
          display: true,
          text: 'iOS On-Device LLM Evolution',
          font: { size: 18, weight: 'bold' },
          color: '#1e293b',
          padding: { bottom: 20 }
        },
        legend: {
          display: false
        },
        tooltip: {
          enabled: true,
          backgroundColor: '#1e293b',
          titleFont: { size: 14, weight: 'bold' },
          bodyFont: { size: 13 },
          padding: 12,
          callbacks: {
            label: function(context) {
              const milestones = {
                0: 'Cloud-only LLMs, no practical on-device options',
                1: 'llama.cpp enables first on-device experiments',
                2: 'MLX released, 7B models feasible on Mac',
                3: 'MLX Swift mature, M5 delivers 4x speedup'
              };
              return milestones[context.dataIndex];
            }
          }
        },
        annotation: {
          annotations: {
            label1: {
              type: 'label',
              xValue: '2022',
              yValue: 15,
              content: ['Cloud-only'],
              font: { size: 11 },
              color: '#64748b'
            },
            label2: {
              type: 'label',
              xValue: '2023',
              yValue: 35,
              content: ['llama.cpp'],
              font: { size: 11 },
              color: '#64748b'
            },
            label3: {
              type: 'label',
              xValue: '2024',
              yValue: 70,
              content: ['MLX Released'],
              font: { size: 11 },
              color: '#64748b'
            },
            label4: {
              type: 'label',
              xValue: '2025',
              yValue: 85,
              content: ['M5 + MLX Swift'],
              font: { size: 11, weight: 'bold' },
              color: '#3B82F6'
            }
          }
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          max: 100,
          title: {
            display: true,
            text: 'Capability Score',
            font: { size: 12, weight: 'bold' },
            color: '#64748b'
          },
          grid: {
            color: 'rgba(0,0,0,0.05)'
          },
          ticks: {
            callback: function(value) {
              return value + '%';
            }
          }
        },
        x: {
          title: {
            display: true,
            text: 'Year',
            font: { size: 12, weight: 'bold' },
            color: '#64748b'
          },
          grid: {
            display: false
          }
        }
      }
    }
  });
})();
</script>
